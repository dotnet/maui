<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:Maui.Controls.Sample"
             x:Class="Maui.Controls.Sample.NavigationPageControlMainPage"
             x:DataType="local:NavigationPageViewModel"
             Title="{Binding Title}">

  <ScrollView>
    <Grid Padding="8"
        RowDefinitions="Auto, Auto, Auto, Auto, Auto, Auto, Auto, Auto, Auto, Auto, Auto, Auto, Auto, Auto, Auto, Auto, Auto, Auto, Auto"
        ColumnDefinitions="*"
        RowSpacing="4">

      <!-- Title -->
      <!-- <Label Grid.Row="0"
           Text="NavigationPage Feature Matrix"
           FontSize="18" 
           FontAttributes="Bold"
           HorizontalTextAlignment="Center" 
           AutomationId="TitleLabel"/> -->

      <!-- Current Navigation Info -->
      <!-- <Border Grid.Row="1" BackgroundColor="LightBlue" Padding="10" StrokeThickness="1" Stroke="Blue"> -->
      <Grid RowDefinitions="Auto, Auto, Auto, Auto, Auto, Auto, Auto, Auto, Auto, Auto, Auto, Auto"
          ColumnDefinitions="0.5*, 0.5*"
          RowSpacing="2">
        <Label Grid.Row="0"
            Grid.Column="0"
            Text="CurrentPage:"
            FontSize="14"
            FontAttributes="Bold"/>
        <Label Grid.Row="0"
            Grid.Column="1"
            x:Name="CurrentPageLabel"
            Text="N/A"
            FontSize="14"
            AutomationId="CurrentPageLabel"/>
        <Label Grid.Row="1"
            Grid.Column="0"
            Text="RootPage:"
            FontSize="14"
            FontAttributes="Bold"/>
        <Label Grid.Row="1"
            Grid.Column="1"
            x:Name="RootPageLabel"
            Text="N/A"
            FontSize="14"
            AutomationId="RootPageLabel"/>
        <Label Grid.Row="2"
            Grid.Column="0"
            Text="Last Nav Event:"
            FontSize="14"
            FontAttributes="Bold"/>
        <Label Grid.Row="2"
            Grid.Column="1"
            Text="{Binding LastNavigationEvent}"
            FontSize="14"
            AutomationId="LastNavigationEventLabel"/>
        <!-- Simple status rows per event -->
        <Label Grid.Row="3"
            Grid.Column="0"
            Text="NavigatedTo:"
            FontSize="12"/>
        <Label Grid.Row="3"
            Grid.Column="1"
            Text="{Binding NavigatedToStatusText}"
            FontSize="12"
            AutomationId="NavigatedToStatusLabel"/>
        <Label Grid.Row="4"
            Grid.Column="0"
            Text="To Params:"
            FontSize="11"/>
        <Label Grid.Row="4"
            Grid.Column="1"
            Text="{Binding LastNavigatedToParameters}"
            FontSize="10"
            AutomationId="NavigatedToParamsLabel"
            LineBreakMode="WordWrap"/>

        <Label Grid.Row="5"
            Grid.Column="0"
            Text="NavigatedFrom:"
            FontSize="12"/>
        <Label Grid.Row="5"
            Grid.Column="1"
            Text="{Binding NavigatedFromStatusText}"
            FontSize="12"
            AutomationId="NavigatedFromStatusLabel"/>
        <Label Grid.Row="6"
            Grid.Column="0"
            Text="From Params:"
            FontSize="11"/>
        <Label Grid.Row="6"
            Grid.Column="1"
            Text="{Binding LastNavigatedFromParameters}"
            FontSize="10"
            AutomationId="NavigatedFromParamsLabel"
            LineBreakMode="WordWrap"/>

        <Label Grid.Row="7"
            Grid.Column="0"
            Text="NavigatingFrom:"
            FontSize="12"/>
        <Label Grid.Row="7"
            Grid.Column="1"
            Text="{Binding NavigatingFromStatusText}"
            FontSize="12"
            AutomationId="NavigatingFromStatusLabel"/>
        <Label Grid.Row="8"
            Grid.Column="0"
            Text="PreFrom Params:"
            FontSize="11"/>
        <Label Grid.Row="8"
            Grid.Column="1"
            Text="{Binding LastNavigatingFromParameters}"
            FontSize="10"
            AutomationId="NavigatingFromParamsLabel"
            LineBreakMode="WordWrap"/>

        <!-- Aggregate params for convenience -->
        <Label Grid.Row="9"
            Grid.Column="0"
            Text="Last Params:"
            FontSize="11"/>
        <Label Grid.Row="9"
            Grid.Column="1"
            Text="{Binding LastNavigationParameters}"
            FontSize="10"
            AutomationId="NavigationEventParamsLabel"
            LineBreakMode="WordWrap"/>
      </Grid>
      <!-- </Border> -->

      <!-- Navigation Buttons -->
      <Label Grid.Row="2"
          Text="Navigation Actions:"
          FontSize="12"
          FontAttributes="Bold"/>
      <StackLayout Grid.Row="3"
          Orientation="Horizontal"
          Spacing="2">
        <Button Text="Apply Settings"
            Clicked="ApplyButton_Clicked"
            AutomationId="ApplyButton"
            FontSize="11"
            Padding="8,6"
            HeightRequest="32"/>
        <Button Text="Reset"
            Clicked="ResetButton_Clicked"
            AutomationId="ResetButton"
            FontSize="11"
            Padding="8,6"
            HeightRequest="32"/>
        <Button Text="Push Page"
            Clicked="PushPage_Clicked"
            AutomationId="PushPageButton"
            FontSize="11"
            Padding="8,6"
            HeightRequest="32"/>
        <Button Text="Pop to Root"
            Clicked="PopToRoot_Clicked"
            AutomationId="PopToRootButton"
            FontSize="11"
            Padding="8,6"
            HeightRequest="32"/>
      </StackLayout>

      <!-- BarBackgroundColor Controls - horizontal row: Label + buttons -->
      <StackLayout Grid.Row="4"
          Orientation="Horizontal"
          Spacing="8">
        <Label Text="BarBackgroundColor:"
            FontSize="12"
            FontAttributes="Bold"
            VerticalOptions="Center"/>
        <StackLayout Orientation="Horizontal"
            Spacing="2">
          <Button Text="Blue"
              BackgroundColor="Blue"
              TextColor="White"
              Clicked="BarBackgroundColorButton_Clicked"
              AutomationId="BarBackgroundColorBlueButton"
              FontSize="10"
              Padding="8,6"
              HeightRequest="30"/>
          <Button Text="Red"
              BackgroundColor="Red"
              TextColor="White"
              Clicked="BarBackgroundColorButton_Clicked"
              AutomationId="BarBackgroundColorRedButton"
              FontSize="10"
              Padding="8,6"
              HeightRequest="30"/>
          <!-- <Button Text="Green" BackgroundColor="Green" TextColor="White" Clicked="BarBackgroundColorButton_Clicked" AutomationId="BarBackgroundColorGreenButton" FontSize="11"/> -->
          <Button Text="Default"
              BackgroundColor="Gray"
              TextColor="White"
              Clicked="BarBackgroundColorButton_Clicked"
              AutomationId="BarBackgroundColorDefaultButton"
              FontSize="10"
              Padding="8,6"
              HeightRequest="30"/>
        </StackLayout>
      </StackLayout>

      <!-- BarTextColor Controls - horizontal row: Label + buttons -->
      <StackLayout Grid.Row="6"
          Orientation="Horizontal"
          Spacing="8">
        <Label Text="BarTextColor:"
            FontSize="12"
            FontAttributes="Bold"
            VerticalOptions="Center"/>
        <StackLayout Orientation="Horizontal"
            Spacing="2">
          <Button Text="White"
              BackgroundColor="White"
              TextColor="Black"
              Clicked="BarTextColorButton_Clicked"
              AutomationId="BarTextColorWhiteButton"
              FontSize="10"
              Padding="8,6"
              HeightRequest="30"/>
          <Button Text="Black"
              BackgroundColor="Black"
              TextColor="White"
              Clicked="BarTextColorButton_Clicked"
              AutomationId="BarTextColorBlackButton"
              FontSize="10"
              Padding="8,6"
              HeightRequest="30"/>
          <!-- <Button Text="Yellow" BackgroundColor="Yellow" TextColor="Black" Clicked="BarTextColorButton_Clicked" AutomationId="BarTextColorYellowButton" FontSize="11"/> -->
          <Button Text="Default"
              BackgroundColor="Gray"
              TextColor="White"
              Clicked="BarTextColorButton_Clicked"
              AutomationId="BarTextColorDefaultButton"
              FontSize="10"
              Padding="8,6"
              HeightRequest="30"/>
        </StackLayout>
      </StackLayout>

      <!-- BarBackground (Brush) Controls - horizontal row: Label + buttons -->
      <StackLayout Grid.Row="8"
          Orientation="Horizontal"
          Spacing="8">
        <Label Text="BarBackground:"
            FontSize="12"
            FontAttributes="Bold"
            VerticalOptions="Center"/>
        <StackLayout Orientation="Horizontal"
            Spacing="2">
          <Button Text="Linear"
              Clicked="BarBackgroundButton_Clicked"
              AutomationId="BarBackgroundLinearButton"
              FontSize="10"
              Padding="8,6"
              HeightRequest="30"/>
          <Button Text="Radial"
              Clicked="BarBackgroundRadialButton_Clicked"
              AutomationId="BarBackgroundRadialButton"
              FontSize="10"
              Padding="8,6"
              HeightRequest="30"/>
          <Button Text="Clear"
              Clicked="BarBackgroundClearButton_Clicked"
              AutomationId="BarBackgroundClearButton"
              FontSize="10"
              Padding="8,6"
              HeightRequest="30"/>
        </StackLayout>
      </StackLayout>

      <!-- IconColor (Attached Property) - horizontal row: Label + buttons -->
      <StackLayout Grid.Row="10"
          Orientation="Horizontal"
          Spacing="8">
        <Label Text="IconColor:"
            FontSize="12"
            FontAttributes="Bold"
            VerticalOptions="Center"/>
        <StackLayout Orientation="Horizontal"
            Spacing="2">
          <Button Text="Red"
              BackgroundColor="Red"
              TextColor="White"
              Clicked="IconColorButton_Clicked"
              AutomationId="IconColorRedButton"
              FontSize="10"
              Padding="8,6"
              HeightRequest="30"/>
          <!-- <Button Text="Orange" BackgroundColor="Orange" TextColor="White" Clicked="IconColorButton_Clicked" AutomationId="IconColorOrangeButton" FontSize="11"/> -->
          <Button Text="Purple"
              BackgroundColor="Purple"
              TextColor="White"
              Clicked="IconColorButton_Clicked"
              AutomationId="IconColorPurpleButton"
              FontSize="10"
              Padding="8,6"
              HeightRequest="30"/>
          <Button Text="Default"
              BackgroundColor="Gray"
              TextColor="White"
              Clicked="IconColorButton_Clicked"
              AutomationId="IconColorDefaultButton"
              FontSize="10"
              Padding="8,6"
              HeightRequest="30"/>
        </StackLayout>
      </StackLayout>

      <!-- TitleIconImageSource & TitleView (Attached Properties) -->
      <Label Grid.Row="12"
          Text="Title Attachments:"
          FontSize="12"
          FontAttributes="Bold"/>
      <StackLayout Grid.Row="13"
          Orientation="Horizontal"
          Spacing="2">
        <Button Text="Add Icon"
            Clicked="TitleIconButton_Clicked"
            AutomationId="TitleIconButton"
            FontSize="10"
            Padding="8,6"
            HeightRequest="30"/>
        <Button Text="Clear Icon"
            Clicked="TitleIconClearButton_Clicked"
            AutomationId="TitleIconClearButton"
            FontSize="10"
            Padding="8,6"
            HeightRequest="30"/>
        <Button Text="Custom View"
            Clicked="TitleViewButton_Clicked"
            AutomationId="TitleViewButton"
            FontSize="10"
            Padding="8,6"
            HeightRequest="30"/>
        <Button Text="Clear View"
            Clicked="TitleViewClearButton_Clicked"
            AutomationId="TitleViewClearButton"
            FontSize="10"
            Padding="8,6"
            HeightRequest="30"/>
      </StackLayout>

      <!-- Navigation Bar Settings -->
      <Label Grid.Row="14"
          Text="Navigation Bar Settings:"
          FontSize="12"
          FontAttributes="Bold"/>
      <Grid Grid.Row="15"
          ColumnDefinitions="Auto, Auto, Auto, Auto"
          ColumnSpacing="10">
        <CheckBox x:Name="HasNavigationBarCheckBox"
            Grid.Column="0"
            IsChecked="True"
            CheckedChanged="OnHasNavigationBarChanged"
            AutomationId="HasNavigationBarCheckBox"/>
        <Label Grid.Column="1"
            Text="Show Nav Bar"
            FontSize="12"
            VerticalOptions="Center"/>
        <CheckBox x:Name="HasBackButtonCheckBox"
            Grid.Column="2"
            IsChecked="True"
            CheckedChanged="OnHasBackButtonChanged"
            AutomationId="HasBackButtonCheckBox"/>
        <Label Grid.Column="3"
            Text="Show Back Button"
            FontSize="12"
            VerticalOptions="Center"/>
      </Grid>

      <!-- BackButtonTitle Input -->
      <StackLayout Grid.Row="16"
          Orientation="Horizontal"
          Spacing="6">
        <Label Text="Back Button Title:"
            FontSize="12"
            VerticalOptions="Center"/>
        <Entry x:Name="BackButtonTitleEntry"
            AutomationId="BackButtonTitleEntry"
            HorizontalOptions="FillAndExpand"
            FontSize="12"
            Placeholder="Enter title"
            HeightRequest="32"/>
      </StackLayout>

    </Grid>
  </ScrollView>
</ContentPage>
