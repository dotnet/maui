<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:Maui.Controls.Sample"
             x:Class="Maui.Controls.Sample.VisualStateManagerControlPage"
             Title="VisualStateManagerControlPage">
   <ContentPage.Resources>
        <!-- Button VSM demo -->
        <Style TargetType="Button" x:Key="VsmButtonStyle">
            <Setter Property="Padding" Value="14,10" />
            <Setter Property="BackgroundColor" Value="#4A4A4A" />
            <Setter Property="TextColor" Value="White" />
            <Setter Property="CornerRadius" Value="8" />
            <Setter Property="VisualStateManager.VisualStateGroups">
                <VisualStateGroupList>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Normal">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="#4A4A4A" />
                                <Setter Property="TextColor" Value="White" />
                                <Setter Property="Opacity" Value="1" />
                                <Setter Property="Scale" Value="1" />
                                <Setter Property="TranslationY" Value="0" />
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Pressed">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="#1E3A8A" />
                                <Setter Property="Scale" Value="0.98" />
                                <Setter Property="TranslationY" Value="1" />
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="PointerOver">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="#60A5FA" />
                                <Setter Property="Scale" Value="1.03" />
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Disabled">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="#BDBDBD" />
                                <Setter Property="TextColor" Value="#6B7280" />
                                <Setter Property="Opacity" Value="0.6" />
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateGroupList>
            </Setter>
        </Style>

        <!-- Entry VSM demo -->
        <Style TargetType="Entry" x:Key="VsmEntryStyle">
            <Setter Property="BackgroundColor" Value="#F3F4F6" />
            <Setter Property="TextColor" Value="#111827" />
            <Setter Property="Margin" Value="0,6" />
            <Setter Property="VisualStateManager.VisualStateGroups">
                <VisualStateGroupList>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Normal">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="#F3F4F6" />
                                <Setter Property="TextColor" Value="#111827" />
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Disabled">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="#E5E7EB" />
                                <Setter Property="TextColor" Value="#6B7280" />
                                <Setter Property="Opacity" Value="0.7" />
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                    <VisualStateGroup x:Name="FocusStates">
                        <VisualState x:Name="Focused">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="#DBEAFE" />
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Unfocused">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="#F3F4F6" />
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateGroupList>
            </Setter>
        </Style>

        <!-- Label VSM demo using TargetName -->
        <Style TargetType="Grid" x:Key="SelectableLabelContainerStyle">
            <Setter Property="Padding" Value="8" />
            <Setter Property="BackgroundColor" Value="#FFFFFF" />
            <Setter Property="VisualStateManager.VisualStateGroups">
                <VisualStateGroupList>
                    <VisualStateGroup x:Name="SelectionStates">
                        <VisualState x:Name="Normal">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="#FFFFFF" />
                                <Setter TargetName="ItemLabel" Property="Label.TextColor" Value="#111827" />
                                <Setter TargetName="ItemLabel" Property="Label.FontAttributes" Value="None" />
                                <Setter Property="Scale" Value="1" />
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Selected">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="#93C5FD" />
                                <Setter TargetName="ItemLabel" Property="Label.TextColor" Value="#0B1021" />
                                <Setter TargetName="ItemLabel" Property="Label.FontAttributes" Value="Bold" />
                                <Setter Property="Scale" Value="1.04" />
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Disabled">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="#E5E7EB" />
                                <Setter TargetName="ItemLabel" Property="Label.TextColor" Value="#6B7280" />
                                <Setter Property="Opacity" Value="0.7" />
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateGroupList>
            </Setter>
        </Style>

        <!-- CheckBox VSM demo -->
        <Style TargetType="CheckBox" x:Key="VsmCheckBoxStyle">
            <Setter Property="Color" Value="#374151" />
            <Setter Property="VisualStateManager.VisualStateGroups">
                <VisualStateGroupList>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Normal">
                            <VisualState.Setters>
                                <Setter Property="Opacity" Value="1" />
                                <Setter Property="Scale" Value="1" />
                                <Setter Property="Color" Value="#374151" />
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Disabled">
                            <VisualState.Setters>
                                <Setter Property="Opacity" Value="0.6" />
                                <Setter Property="Color" Value="#9CA3AF" />
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                    <VisualStateGroup x:Name="CheckStates">
                        <VisualState x:Name="Checked">
                            <VisualState.Setters>
                                <Setter Property="Color" Value="#2563EB" />
                                <Setter Property="Scale" Value="1.05" />
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Unchecked">
                            <VisualState.Setters>
                                <Setter Property="Color" Value="#374151" />
                                <Setter Property="Scale" Value="1" />
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateGroupList>
            </Setter>
        </Style>

        <!-- Switch VSM demo -->
        <Style TargetType="Switch" x:Key="VsmSwitchStyle">
            <Setter Property="ThumbColor" Value="#FFFFFF" />
            <Setter Property="VisualStateManager.VisualStateGroups">
                <VisualStateGroupList>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Normal">
                            <VisualState.Setters>
                                <Setter Property="Opacity" Value="1" />
                                <Setter Property="Scale" Value="1" />
                                <Setter Property="ThumbColor" Value="#FFFFFF" />
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Disabled">
                            <VisualState.Setters>
                                <Setter Property="Opacity" Value="0.6" />
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                    <VisualStateGroup x:Name="OnOffStates">
                        <VisualState x:Name="On">
                            <VisualState.Setters>
                                <Setter Property="ThumbColor" Value="#22C55E" />
                                <Setter Property="Scale" Value="1.05" />
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Off">
                            <VisualState.Setters>
                                <Setter Property="ThumbColor" Value="#EF4444" />
                                <Setter Property="Scale" Value="1" />
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateGroupList>
            </Setter>
        </Style>

        <!-- Slider VSM demo -->
        <Style TargetType="Slider" x:Key="VsmSliderStyle">
            <Setter Property="MinimumTrackColor" Value="#3B82F6" />
            <Setter Property="MaximumTrackColor" Value="#D1D5DB" />
            <Setter Property="ThumbColor" Value="#FFFFFF" />
            <Setter Property="VisualStateManager.VisualStateGroups">
                <VisualStateGroupList>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Normal">
                            <VisualState.Setters>
                                <Setter Property="Opacity" Value="1" />
                                <Setter Property="Scale" Value="1" />
                                <Setter Property="MinimumTrackColor" Value="#3B82F6" />
                                <Setter Property="MaximumTrackColor" Value="#D1D5DB" />
                                <Setter Property="ThumbColor" Value="#FFFFFF" />
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Disabled">
                            <VisualState.Setters>
                                <Setter Property="Opacity" Value="0.5" />
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                    <VisualStateGroup x:Name="FocusStates">
                        <VisualState x:Name="Focused">
                            <VisualState.Setters>
                                <Setter Property="ThumbColor" Value="#60A5FA" />
                                <Setter Property="Scale" Value="1.05" />
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Unfocused">
                            <VisualState.Setters>
                                <Setter Property="ThumbColor" Value="#FFFFFF" />
                                <Setter Property="Scale" Value="1" />
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateGroupList>
            </Setter>
        </Style>
    </ContentPage.Resources>

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="16">
            <Label Text="VisualStateManager Feature Matrix" FontSize="20" />
            <Label Text="Interact to see states: Pressed, Focused, Disabled, Selected." FontSize="14" />

            <!-- Button demo -->
            <Frame BorderColor="#D1D5DB" Padding="12" CornerRadius="10">
                <VerticalStackLayout Spacing="8">
                    <Label Text="Button States (Normal / Pressed / PointerOver / Disabled)" FontAttributes="Bold" />
                    <HorizontalStackLayout Spacing="10">
                        <Button x:Name="DemoButton" Text="Press me" Style="{StaticResource VsmButtonStyle}"
                                Pressed="OnDemoButtonPressed" Released="OnDemoButtonReleased">
                            <Button.GestureRecognizers>
                                <PointerGestureRecognizer PointerEntered="OnDemoButtonPointerEntered"
                                                          PointerExited="OnDemoButtonPointerExited" />
                            </Button.GestureRecognizers>
                        </Button>
                        <Button Text="Disable" Clicked="OnToggleButtonDisabled" />
                        <Button Text="Reset" Clicked="OnResetButtonState" />
                    </HorizontalStackLayout>
                </VerticalStackLayout>
            </Frame>

            <!-- Entry demo -->
            <Frame BorderColor="#D1D5DB" Padding="12" CornerRadius="10">
                <VerticalStackLayout Spacing="8">
                    <Label Text="Entry States (Focused / Unfocused / Disabled)" FontAttributes="Bold" />
                    <HorizontalStackLayout Spacing="10">
                        <Entry x:Name="DemoEntry" Placeholder="Focus me" Style="{StaticResource VsmEntryStyle}" />
                        <Button Text="Focus" Clicked="OnFocusEntry" />
                        <Button Text="Disable" Clicked="OnToggleEntryDisabled" />
                    </HorizontalStackLayout>
                </VerticalStackLayout>
            </Frame>

            <!-- Label selection with TargetName -->
            <Frame BorderColor="#D1D5DB" Padding="12" CornerRadius="10">
                <VerticalStackLayout Spacing="8">
                    <Label Text="Selectable Label (Normal / Selected / Disabled)" FontAttributes="Bold" />
                    <Grid x:Name="SelectableLabelContainer" Style="{StaticResource SelectableLabelContainerStyle}">
                        <Grid.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnToggleLabelSelected" />
                        </Grid.GestureRecognizers>
                        <Label x:Name="ItemLabel" Text="Tap to select" HorizontalOptions="Center" VerticalOptions="Center" />
                    </Grid>
                    <HorizontalStackLayout Spacing="10">
                        <Button Text="Disable" Clicked="OnToggleLabelDisabled" />
                        <Button Text="Reset" Clicked="OnResetLabel" />
                    </HorizontalStackLayout>
                </VerticalStackLayout>
            </Frame>

            <!-- CollectionView item VSM sample hint -->
            <Frame BorderColor="#D1D5DB" Padding="12" CornerRadius="10">
                <VerticalStackLayout Spacing="8">
                    <Label Text="See 'CollectionView VSM' page for item selection states." />
                    <Button Text="Open CollectionView VSM" Clicked="OnOpenCollectionViewVsm" />
                </VerticalStackLayout>
            </Frame>

            <!-- CheckBox demo -->
            <Frame BorderColor="#D1D5DB" Padding="12" CornerRadius="10">
                <VerticalStackLayout Spacing="8">
                    <Label Text="CheckBox States (Checked / Unchecked / Disabled)" FontAttributes="Bold" />
                    <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                        <CheckBox x:Name="DemoCheckBox" Style="{StaticResource VsmCheckBoxStyle}" />
                        <Label Text="Toggle the checkbox to see state changes." VerticalOptions="Center" />
                    </HorizontalStackLayout>
                    <HorizontalStackLayout Spacing="10">
                        <Button Text="Disable" Clicked="OnToggleCheckBoxDisabled" />
                        <Button Text="Reset" Clicked="OnResetCheckBox" />
                    </HorizontalStackLayout>
                </VerticalStackLayout>
            </Frame>

            <!-- Switch demo -->
            <Frame BorderColor="#D1D5DB" Padding="12" CornerRadius="10">
                <VerticalStackLayout Spacing="8">
                    <Label Text="Switch States (On / Off / Disabled)" FontAttributes="Bold" />
                    <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                        <Switch x:Name="DemoSwitch" Style="{StaticResource VsmSwitchStyle}" />
                        <Label Text="Toggle the switch to see thumb color changes." VerticalOptions="Center" />
                    </HorizontalStackLayout>
                    <HorizontalStackLayout Spacing="10">
                        <Button Text="Disable" Clicked="OnToggleSwitchDisabled" />
                        <Button Text="Reset" Clicked="OnResetSwitch" />
                    </HorizontalStackLayout>
                </VerticalStackLayout>
            </Frame>

            <!-- Slider demo -->
            <Frame BorderColor="#D1D5DB" Padding="12" CornerRadius="10">
                <VerticalStackLayout Spacing="8">
                    <Label Text="Slider States (Focused / Unfocused / Disabled)" FontAttributes="Bold" />
                    <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                        <Slider x:Name="DemoSlider" Minimum="0" Maximum="100" Value="50" Style="{StaticResource VsmSliderStyle}" />
                    </HorizontalStackLayout>
                    <HorizontalStackLayout Spacing="10">
                        <Button Text="Focus" Clicked="OnFocusSlider" />
                        <Button Text="Disable" Clicked="OnToggleSliderDisabled" />
                        <Button Text="Reset" Clicked="OnResetSlider" />
                    </HorizontalStackLayout>
                </VerticalStackLayout>
            </Frame>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
