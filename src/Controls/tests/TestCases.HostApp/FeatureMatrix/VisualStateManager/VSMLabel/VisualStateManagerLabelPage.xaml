<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Maui.Controls.Sample.VisualStateManagerLabelPage"
             Title="VisualStateManagerLabelPage">
    <ContentPage.Resources>
        <Style TargetType="Grid"
                x:Key="SelectableLabelContainerStyle">
            <Setter Property="Padding"
                    Value="8"/>
            <Setter Property="BackgroundColor"
                    Value="#FFFFFF"/>
            <Setter Property="VisualStateManager.VisualStateGroups">
                <VisualStateGroupList>
                    <VisualStateGroup x:Name="SelectionStates">
                        <VisualState x:Name="Normal">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor"
                                        Value="#FFD0D68F"/>
                                <Setter TargetName="ItemLabel"
                                        Property="Label.TextColor"
                                        Value="#111827"/>
                                <Setter TargetName="ItemLabel"
                                        Property="Label.FontAttributes"
                                        Value="Italic"/>
                                <Setter Property="Scale"
                                        Value="1.0"/>
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Selected">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor"
                                        Value="#93C5FD"/>
                                <Setter TargetName="ItemLabel"
                                        Property="Label.TextColor"
                                        Value="#0B1021"/>
                                <Setter TargetName="ItemLabel"
                                        Property="Label.FontAttributes"
                                        Value="Bold"/>
                                <Setter Property="Scale"
                                        Value="1.5"/>
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Disabled">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor"
                                        Value="#E5E7EB"/>
                                <Setter TargetName="ItemLabel"
                                        Property="Label.TextColor"
                                        Value="#6B7280"/>
                                <Setter Property="Opacity"
                                        Value="0.7"/>
                                <Setter Property="Scale"
                                        Value="1.0"/>
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateGroupList>
            </Setter>
        </Style>
    </ContentPage.Resources>
    <VerticalStackLayout Padding="20"
                         Spacing="16">
        <Label Text="VisualStateManager Feature Matrix"
               FontSize="20"/>

        <VerticalStackLayout Padding="20"
                Spacing="16">
            <Label Text="Label State (Normal / Selected / Disabled)"
                    FontAttributes="Bold"/>

            <Grid x:Name="SelectableLabelContainer"
                    AutomationId="SelectableLabelContainer"
                    Style="{StaticResource SelectableLabelContainerStyle}">
                <Grid.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnToggleLabelSelected"/>
                </Grid.GestureRecognizers>
                <Label x:Name="ItemLabel"
                        Text="Tap to select"
                        HorizontalOptions="Center"
                        VerticalOptions="Center"/>
            </Grid>

            <!-- State output label -->
            <Label x:Name="LabelState"
                    AutomationId="LabelState"
                    Text="State: Normal"
                    FontSize="14"
                    TextColor="#111827"/>

            <HorizontalStackLayout Spacing="10">
                <Button x:Name="LabelDisableButton" Text="Disable"
                        AutomationId="LabelDisable"
                        Clicked="OnToggleLabelDisabled"/>
                <Button Text="Reset"
                        AutomationId="LabelReset"
                        Clicked="OnResetLabel"/>
            </HorizontalStackLayout>
        </VerticalStackLayout>
    </VerticalStackLayout>
</ContentPage>