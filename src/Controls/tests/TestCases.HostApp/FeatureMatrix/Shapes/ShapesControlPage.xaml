<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:shapes="clr-namespace:Microsoft.Maui.Controls.Shapes;assembly=Microsoft.Maui.Controls"
             xmlns:local="clr-namespace:Maui.Controls.Sample"
             x:DataType="local:ShapesViewModel"
             x:Class="Maui.Controls.Sample.ShapesControlMainPage"
             Title="Shapes Control">
  <ContentPage.ToolbarItems>
    <ToolbarItem Text="Options"
                 Clicked="NavigateToOptionsPage_Clicked"
                 AutomationId="Options"/>
  </ContentPage.ToolbarItems>
  <ContentPage.Resources>
    <ResourceDictionary>
      <local:EnumToBoolConverter x:Key="EnumToBoolConverter"/>
    </ResourceDictionary>
  </ContentPage.Resources>

  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>
    <!-- Shape Display Area -->
    <ScrollView Grid.Row="1">
      <ContentView Padding="20"
                   BackgroundColor="White">
        <Grid WidthRequest="400"
              HeightRequest="400"
              HorizontalOptions="Center"
              VerticalOptions="Center">
          <!-- Rectangle Shape -->
          <Rectangle x:Name="RectangleShape"
                     WidthRequest="{Binding Width}"
                     HeightRequest="{Binding Height}"
                     Fill="{Binding FillColor}"
                     Stroke="{Binding StrokeColor}"
                     HorizontalOptions="Center"
                     VerticalOptions="Center"
                     StrokeThickness="{Binding StrokeThickness}"
                     StrokeDashArray="{Binding StrokeDashCollection}"
                     StrokeDashOffset="{Binding StrokeDashOffset}"
                     RadiusX="{Binding RadiusX}"
                     RadiusY="{Binding RadiusY}"
                     Shadow="{Binding BoxShadow}"
                     IsVisible="{Binding SelectedShapeType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Rectangle}"
                     AutomationId="RectangleShape"/>

          <!-- Ellipse Shape -->
          <Ellipse x:Name="EllipseShape"
                   WidthRequest="{Binding Width}"
                   HeightRequest="{Binding Height}"
                   Fill="{Binding FillColor}"
                   HorizontalOptions="Center"
                   VerticalOptions="Center"
                   Stroke="{Binding StrokeColor}"
                   StrokeThickness="{Binding StrokeThickness}"
                   StrokeDashArray="{Binding StrokeDashCollection}"
                   StrokeDashOffset="{Binding StrokeDashOffset}"
                   Shadow="{Binding BoxShadow}"
                   IsVisible="{Binding SelectedShapeType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Ellipse}"
                   AutomationId="EllipseShape"/>

          <!-- Line Shape -->
          <Line x:Name="LineShape"
                X1="{Binding X1}"
                Y1="{Binding Y1}"
                X2="{Binding X2}"
                Y2="{Binding Y2}"
                VerticalOptions="Center"
                HorizontalOptions="Center"
                Stroke="{Binding StrokeColor}"
                StrokeThickness="{Binding StrokeThickness}"
                StrokeDashArray="{Binding StrokeDashCollection}"
                StrokeDashOffset="{Binding StrokeDashOffset}"
                Shadow="{Binding BoxShadow}"
                IsVisible="{Binding SelectedShapeType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Line}"
                AutomationId="LineShape"/>

          <!-- Polygon Shape -->
          <Polygon x:Name="PolygonShape"
                   Points="{Binding PolygonPointCollection}"
                   Fill="{Binding FillColor}"
                   Stroke="{Binding StrokeColor}"
                   VerticalOptions="Center"
                   HorizontalOptions="Center"
                   StrokeThickness="{Binding StrokeThickness}"
                   StrokeDashArray="{Binding StrokeDashCollection}"
                   StrokeDashOffset="{Binding StrokeDashOffset}"
                   Shadow="{Binding BoxShadow}"
                   WidthRequest="{Binding Width}"
                   IsVisible="{Binding SelectedShapeType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Polygon}"
                   AutomationId="PolygonShape"/>

          <!-- Polyline Shape -->
          <Polyline x:Name="PolylineShape"
                    Points="{Binding PolylinePointCollection}"
                    Stroke="{Binding StrokeColor}"
                    StrokeThickness="{Binding StrokeThickness}"
                    StrokeDashArray="{Binding StrokeDashCollection}"
                    VerticalOptions="Center"
                    HorizontalOptions="Center"
                    StrokeDashOffset="{Binding StrokeDashOffset}"
                    Shadow="{Binding BoxShadow}"
                    IsVisible="{Binding SelectedShapeType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Polyline}"
                    AutomationId="PolylineShape"/>

          <!-- Path Shape -->
          <Path x:Name="PathShape"
                Data="{Binding PathGeometry}"
                Fill="{Binding FillColor}"
                Stroke="{Binding StrokeColor}"
                StrokeThickness="{Binding StrokeThickness}"
                VerticalOptions="Center"
                HorizontalOptions="Center"
                StrokeDashArray="{Binding StrokeDashCollection}"
                StrokeDashOffset="{Binding StrokeDashOffset}"
                Shadow="{Binding BoxShadow}"
                WidthRequest="{Binding Width}"
                HeightRequest="{Binding Height}"
                IsVisible="{Binding SelectedShapeType, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Path}"
                AutomationId="PathShape"/>
        </Grid>
      </ContentView>
    </ScrollView>
  </Grid>
</ContentPage>