<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:Maui.Controls.Sample"
             x:Class="Maui.Controls.Sample.HybridWebViewControlPage"
             x:DataType="local:HybridWebViewViewModel"
             Title="HybridWebViewControlPage">


       <Grid Padding="10"
             RowSpacing="5">
              <!-- Define Grid Rows -->
              <Grid.RowDefinitions>
                     <RowDefinition Height="250"/>
                     <RowDefinition Height="Auto"/>
                     <RowDefinition Height="Auto"/>
              </Grid.RowDefinitions>

              <!-- Row 0: HybridWebView at the top -->
              <HybridWebView Grid.Row="0"
                             x:Name="MyHybridWebView"
                             DefaultFile="{Binding DefaultFile, x:DataType={x:Null}}"
                             HybridRoot="{Binding HybridRoot, x:DataType={x:Null}}"
                             IsVisible="{Binding IsVisible, x:DataType={x:Null}}"
                             Shadow="{Binding Shadow, x:DataType={x:Null}}"
                             FlowDirection="{Binding FlowDirection, x:DataType={x:Null}}"
                             RawMessageReceived="OnRawMessageReceived"
                             AutomationId="HybridWebViewControl"/>

              <!-- Row 1: Title and Status Labels -->
              <VerticalStackLayout Grid.Row="1"
                                   Spacing="2">
                     <Label Text="{Binding Status, x:DataType={x:Null}}"
                            FontSize="14"
                            TextColor="DarkGreen"
                            HorizontalOptions="Start"
                            AutomationId="StatusLabel"/>

                     <Grid ColumnSpacing="20">
                            <Grid.ColumnDefinitions>
                                   <ColumnDefinition Width="*"/>
                                   <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <HorizontalStackLayout Grid.Column="0"
                                                   Spacing="2">
                                   <Label Text="HybridRoot:"
                                          FontAttributes="Bold"
                                          FontSize="12"
                                          HorizontalOptions="Start"/>
                                   <Label Text="{Binding HybridRoot, x:DataType={x:Null}}"
                                          FontSize="11"
                                          TextColor="Blue"
                                          AutomationId="HybridRootLabel"/>
                            </HorizontalStackLayout>

                            <HorizontalStackLayout Grid.Column="1"
                                                   Spacing="2">
                                   <Label Text="DefaultFile:"
                                          FontAttributes="Bold"
                                          FontSize="12"
                                          HorizontalOptions="Start"/>
                                   <Label Text="{Binding DefaultFile, x:DataType={x:Null}}"
                                          FontSize="11"
                                          TextColor="Blue"
                                          AutomationId="DefaultFileLabel"/>
                            </HorizontalStackLayout>
                     </Grid>
              </VerticalStackLayout>

              <!-- Row 2: Action Buttons -->
              <VerticalStackLayout Grid.Row="2"
                                   Spacing="2">
                     <Grid RowSpacing="2"
                           ColumnSpacing="5">
                            <Grid.RowDefinitions>
                                   <RowDefinition Height="Auto"/>
                                   <RowDefinition Height="Auto"/>
                                   <RowDefinition Height="Auto"/>
                                   <RowDefinition Height="Auto"/>
                                   <RowDefinition Height="Auto"/>
                                   <RowDefinition Height="Auto"/>
                                   <RowDefinition Height="Auto"/>
                                   <RowDefinition Height="Auto"/>
                                   <RowDefinition Height="Auto"/>
                                   <RowDefinition Height="Auto"/>
                                   <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                   <ColumnDefinition Width="*"/>
                                   <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- HybridRoot Selection -->
                            <Label Grid.Row="0"
                                   Grid.ColumnSpan="2"
                                   Text="Select HybridRoot:"
                                   FontSize="12"
                                   FontAttributes="Bold"
                                   HorizontalOptions="Start"/>

                            <Button Grid.Row="1"
                                    Grid.Column="0"
                                    x:Name="HybridWebView1Button"
                                    Text="HybridWebView1"
                                    Clicked="OnHybridRootButtonClicked"
                                    AutomationId="HybridWebView1Button"/>
                            <Button Grid.Row="1"
                                    Grid.Column="1"
                                    x:Name="HybridWebView2Button"
                                    Text="HybridWebView2"
                                    Clicked="OnHybridRootButtonClicked"
                                    AutomationId="HybridWebView2Button"/>

                            <!-- DefaultFile Selection -->
                            <Label Grid.Row="2"
                                   Grid.ColumnSpan="2"
                                   Text="Select Default File:"
                                   FontSize="12"
                                   FontAttributes="Bold"
                                   HorizontalOptions="Start"/>

                            <Button Grid.Row="3"
                                    Grid.Column="0"
                                    x:Name="IndexHtmlButton"
                                    Text="index.html"
                                    Clicked="OnDefaultFileButtonClicked"
                                    AutomationId="IndexHtmlButton"/>
                            <Button Grid.Row="3"
                                    Grid.Column="1"
                                    x:Name="ImageHtmlButton"
                                    Text="image.html"
                                    Clicked="OnDefaultFileButtonClicked"
                                    AutomationId="ImageHtmlButton"/>

                            <Button Grid.Row="4"
                                    Grid.Column="0"
                                    x:Name="NavigationHtmlButton"
                                    Text="navigation.html"
                                    Clicked="OnDefaultFileButtonClicked"
                                    AutomationId="NavigationHtmlButton"/>
                            <Button Grid.Row="4"
                                    Grid.Column="1"
                                    x:Name="WebHtmlButton"
                                    Text="web.html"
                                    Clicked="OnDefaultFileButtonClicked"
                                    AutomationId="WebHtmlButton"/>

                            <!-- Properties Section -->
                            <Label Grid.Row="5"
                                   Grid.ColumnSpan="2"
                                   Text="Properties:"
                                   FontSize="12"
                                   FontAttributes="Bold"
                                   HorizontalOptions="Start"/>

                            <HorizontalStackLayout Grid.Row="6"
                                                   Grid.Column="0"
                                                   Spacing="5">
                                   <CheckBox x:Name="IsVisibleCheckBox"
                                             IsChecked="{Binding IsVisible, x:DataType={x:Null}}"
                                             AutomationId="IsVisibleCheckBox"/>
                                   <Label Text="IsVisible"
                                          VerticalOptions="Center"
                                          FontSize="12"/>
                            </HorizontalStackLayout>

                            <HorizontalStackLayout Grid.Row="6"
                                                   Grid.Column="1"
                                                   Spacing="5">
                                   <CheckBox x:Name="ShadowCheckBox"
                                             IsChecked="{Binding HasShadow, x:DataType={x:Null}}"
                                             AutomationId="ShadowCheckBox"/>
                                   <Label Text="Shadow"
                                          VerticalOptions="Center"
                                          FontSize="12"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Grid.Row="7"
                                                   Grid.Column="0"
                                                   Spacing="5">
                                   <CheckBox x:Name="FlowDirectionCheckBox"
                                             IsChecked="{Binding IsLeftToRight, x:DataType={x:Null}}"
                                             CheckedChanged="OnFlowDirectionCheckBoxChanged"
                                             AutomationId="FlowDirectionCheckBox"/>
                                   <Label Text="FlowDirection: LTR if checked, RTL if unchecked"
                                          VerticalOptions="Center"
                                          FontSize="12"/>
                            </HorizontalStackLayout>


                            <!-- Action Buttons -->
                            <Label Grid.Row="8"
                                   Grid.ColumnSpan="2"
                                   Text="Action Buttons:"
                                   FontSize="12"
                                   FontAttributes="Bold"
                                   HorizontalOptions="Start"/>

                            <Button Grid.Row="9"
                                    Grid.Column="0"
                                    Text="Evaluate JS"
                                    Clicked="OnEvaluateJavaScriptClicked"
                                    AutomationId="EvaluateJavaScriptButton"/>

                            <Button Grid.Row="9"
                                    Grid.Column="1"
                                    Text="Send Message to JS"
                                    Clicked="OnSendMessageToJavaScriptClicked"
                                    FontSize="14"
                                    AutomationId="SendMessageButton"/>
                            <!-- Reset Button -->
                            <Button Grid.Row="10"
                                    Grid.ColumnSpan="2"
                                    Text="Reset"
                                    Clicked="OnResetButtonClicked"
                                    BackgroundColor="Orange"
                                    FontSize="12"
                                    AutomationId="ResetButton"/>
                     </Grid>
              </VerticalStackLayout>
       </Grid>
</ContentPage>