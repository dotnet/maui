<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:Maui.Controls.Sample"
             x:Class="Maui.Controls.Sample.SearchBarControlMainPage"
             x:DataType="local:SearchBarViewModel"
             Title="ControlPage">
       <ContentPage.ToolbarItems>
              <ToolbarItem Text="Options"
                           Clicked="NavigateToOptionsPage_Clicked"
                           AutomationId="Options"/>
       </ContentPage.ToolbarItems>

       <Grid x:Name="MainGrid"
             RowDefinitions="*,Auto, Auto, Auto, Auto"
             ColumnDefinitions="0.5*, 0.5*">
              <Grid x:Name="SearchBarGrid"
                    Grid.Row="0"
                    Grid.ColumnSpan="2"
                    VerticalOptions="Center">
                     <local:UITestSearchBar x:Name="searchBar"
                                            IsCursorVisible="False"
                                            AutomationId="SearchBar"
                                            CancelButtonColor="{Binding CancelButtonColor, x:DataType={x:Null}}"
                                            CharacterSpacing="{Binding CharacterSpacing, x:DataType={x:Null}}"
                                            CursorPosition="{Binding CursorPosition, x:DataType={x:Null}}"
                                            FlowDirection="{Binding FlowDirection, x:DataType={x:Null}}"
                                            FontAttributes="{Binding FontAttributes, x:DataType={x:Null}}"
                                            FontAutoScalingEnabled="{Binding FontAutoScalingEnabled, x:DataType={x:Null}}"
                                            FontFamily="{Binding FontFamily, x:DataType={x:Null}}"
                                            FontSize="{Binding FontSize, x:DataType={x:Null}}"
                                            HorizontalTextAlignment="{Binding HorizontalTextAlignment, x:DataType={x:Null}}"
                                            IsEnabled="{Binding IsEnabled, x:DataType={x:Null}}"
                                            IsVisible="{Binding IsVisible, x:DataType={x:Null}}"
                                            Shadow="{Binding Shadow, x:DataType={x:Null}}"
                                            IsReadOnly="{Binding IsReadOnly, x:DataType={x:Null}}"
                                            IsSpellCheckEnabled="{Binding IsSpellCheckEnabled, x:DataType={x:Null}}"
                                            IsTextPredictionEnabled="{Binding IsTextPredictionEnabled, x:DataType={x:Null}}"
                                            Keyboard="{Binding Keyboard, x:DataType={x:Null}}"
                                            MaxLength="{Binding MaxLength, x:DataType={x:Null}}"
                                            Placeholder="{Binding Placeholder, x:DataType={x:Null}}"
                                            PlaceholderColor="{Binding PlaceholderColor, x:DataType={x:Null}}"
                                            SearchButtonPressed="OnSearchButtonPressed"
                                            SearchCommand="{Binding SearchCommand, x:DataType={x:Null}}"
                                            SearchCommandParameter="{Binding Text, x:DataType='SearchBar', Source={x:Reference searchBar}}"
                                            SelectionLength="{Binding SelectionLength, x:DataType={x:Null}}"
                                            Text="{Binding Text, x:DataType={x:Null}}"
                                            TextColor="{Binding TextColor, x:DataType={x:Null}}"
                                            TextChanged="OnTextChanged"
                                            TextTransform="{Binding TextTransform, x:DataType={x:Null}}"
                                            VerticalTextAlignment="{Binding VerticalTextAlignment, x:DataType={x:Null}}"/>
              </Grid>

              <Label Grid.Row="1"
                     Grid.Column="0"
                     HorizontalOptions="Center"
                     Text="Search Button Pressed: "/>
              <Label Grid.Row="1"
                     Grid.Column="1"
                     x:Name="SearchButtonPressedLabel"
                     AutomationId="SearchButtonPressedLabel"
                     HorizontalOptions="Center"
                     Text="No"/>

              <Label Grid.Row="2"
                     Grid.Column="0"
                     HorizontalOptions="Center"
                     Text="New Text: "/>
              <Label Grid.Row="2"
                     Grid.Column="1"
                     x:Name="NewTextChangedLabel"
                     HorizontalOptions="Center"
                     AutomationId="NewTextChangedLabel"/>

              <Label Grid.Row="3"
                     Grid.Column="0"
                     HorizontalOptions="Center"
                     Margin="0,0,0,100"
                     Text="Old Text: "/>
              <Label Grid.Row="3"
                     Grid.Column="1"
                     x:Name="OldTextChangedLabel"
                     HorizontalOptions="Center"
                     Margin="0,0,0,100"
                     AutomationId="OldTextChangedLabel"/>
       </Grid>
</ContentPage>