<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Maui.Controls.Sample.TwoPaneViewControlMainPage"
             xmlns:foldable="clr-namespace:Microsoft.Maui.Controls.Foldable;assembly=Microsoft.Maui.Controls.Foldable"
             xmlns:local="clr-namespace:Maui.Controls.Sample"
             x:DataType="local:TwoPaneViewViewModel"
             Title="TwoPaneViewControlPage">
    <ContentPage.ToolbarItems>
        <ToolbarItem Text="Options"
                     Clicked="NavigateToOptionsPage_Clicked"
                     AutomationId="Options"/>
    </ContentPage.ToolbarItems>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- TwoPaneView -->
        <foldable:TwoPaneView x:Name="MyTwoPaneView"
                              Grid.Row="0"
                              Pane1Length="{Binding Pane1Length}"
                              Pane2Length="{Binding Pane2Length}"
                              MinTallModeHeight="{Binding MinTallModeHeight}"
                              MinWideModeWidth="{Binding MinWideModeWidth}"
                              FlowDirection="{Binding FlowDirection}"
                              TallModeConfiguration="{Binding TallModeConfiguration}"
                              WideModeConfiguration="{Binding WideModeConfiguration}"
                              PanePriority="{Binding PanePriority}"
                              IsVisible="{Binding IsVisible}">
            <foldable:TwoPaneView.Pane1>
                <Border BackgroundColor="#f0f8ff"
                        Margin="10"
                        Padding="20"
                        Stroke="#ccddff"
                        StrokeThickness="1">
                    <Border.Shadow>
                        <Shadow Brush="Black"
                                Offset="2,2"
                                Radius="4"
                                Opacity="0.3"/>
                    </Border.Shadow>
                    <Border.Style>
                        <Style TargetType="Border">
                            <Setter Property="Shadow">
                                <Setter.Value>
                                    <Shadow Brush="Black"
                                            Offset="2,2"
                                            Radius="4"
                                            Opacity="0.3"/>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <DataTrigger TargetType="Border"
                                             Binding="{Binding IsShadowEnabled}"
                                             Value="False">
                                    <Setter Property="Shadow"
                                            Value="{x:Null}"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Border.Style>
                    <VerticalStackLayout HorizontalOptions="Center"
                                         VerticalOptions="Center"
                                         Spacing="10">
                        <Image Source="dotnet_bot.png"
                               HeightRequest="50"
                               WidthRequest="50"
                               HorizontalOptions="Center"
                               VerticalOptions="Center"/>
                        <Label Text="Pane 1"
                               HorizontalOptions="Center"
                               FontSize="Medium"
                               FontAttributes="Bold"
                               TextColor="#4a69bd"
                               AutomationId="Pane1Label"/>
                    </VerticalStackLayout>
                </Border>
            </foldable:TwoPaneView.Pane1>

            <foldable:TwoPaneView.Pane2>
                <Border BackgroundColor="#fff0f5"
                        Margin="10"
                        Padding="20"
                        Stroke="#ffccdd"
                        StrokeThickness="1">
                    <Border.Shadow>
                        <Shadow Brush="Black"
                                Offset="2,2"
                                Radius="4"
                                Opacity="0.3"/>
                    </Border.Shadow>
                    <Border.Style>
                        <Style TargetType="Border">
                            <Setter Property="Shadow">
                                <Setter.Value>
                                    <Shadow Brush="Black"
                                            Offset="2,2"
                                            Radius="4"
                                            Opacity="0.3"/>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <DataTrigger TargetType="Border"
                                             Binding="{Binding IsShadowEnabled}"
                                             Value="False">
                                    <Setter Property="Shadow"
                                            Value="{x:Null}"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Border.Style>
                    <VerticalStackLayout HorizontalOptions="Center"
                                         VerticalOptions="Center"
                                         Spacing="10">
                        <Image Source="dotnet_bot.png"
                               HeightRequest="50"
                               WidthRequest="50"
                               HorizontalOptions="Center"
                               VerticalOptions="Center"/>
                        <Label Text="Pane 2"
                               HorizontalOptions="Center"
                               FontSize="Medium"
                               FontAttributes="Bold"
                               TextColor="#d63031"
                               AutomationId="Pane2Label"/>
                    </VerticalStackLayout>
                </Border>
            </foldable:TwoPaneView.Pane2>
        </foldable:TwoPaneView>

        <VerticalStackLayout  Grid.Row="1"
                              Spacing="15">
            <!-- Current Configuration Display -->
            <Border BackgroundColor="White"
                    Padding="5"
                    Margin="10"
                    Stroke="#dee2e6"
                    StrokeThickness="1"
                    AutomationId="ConfigurationDisplayBorder">
                <VerticalStackLayout Spacing="1"
                                     AutomationId="ConfigurationDisplayContent">
                    <HorizontalStackLayout Spacing="10"
                                           AutomationId="ConfigurationInfoStack">
                        <VerticalStackLayout AutomationId="ModeConfigurationStack">
                            <HorizontalStackLayout Spacing="12">
                                <Label Text="Tall Mode:"
                                       FontAttributes="Bold"
                                       FontSize="Small"
                                       TextColor="#495057"
                                       AutomationId="TallModeLabel"/>
                                <Label Text="{Binding TallModeConfiguration}"
                                       TextColor="#007bff"
                                       FontSize="Small"
                                       AutomationId="TallModeValue"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="5">
                                <Label Text="Wide Mode:"
                                       FontAttributes="Bold"
                                       FontSize="Small"
                                       TextColor="#495057"
                                       AutomationId="WideModeLabel"/>
                                <Label Text="{Binding WideModeConfiguration}"
                                       TextColor="#007bff"
                                       FontSize="Small"
                                       AutomationId="WideModeValue"/>
                            </HorizontalStackLayout>
                        </VerticalStackLayout>
                        <VerticalStackLayout AutomationId="PriorityAndModeStack">
                            <HorizontalStackLayout Spacing="10">
                                <Label Text="Pane Priority:"
                                       FontAttributes="Bold"
                                       FontSize="Small"
                                       TextColor="#495057"
                                       AutomationId="PanePriorityLabel"/>
                                <Label Text="{Binding PanePriority}"
                                       TextColor="#007bff"
                                       FontSize="Small"
                                       AutomationId="PanePriorityValue"/>
                            </HorizontalStackLayout>
                            <HorizontalStackLayout Spacing="10">
                                <Label Text="Window Mode:"
                                       FontAttributes="Bold"
                                       FontSize="Small"
                                       TextColor="#495057"
                                       AutomationId="CurrentModeTitle"/>
                                <Label Text="{Binding CurrentModeText}"
                                       FontSize="Small"
                                       TextColor="#007bff"
                                       AutomationId="CurrentModeLabel"/>
                            </HorizontalStackLayout>
                        </VerticalStackLayout>
                    </HorizontalStackLayout>
                </VerticalStackLayout>
            </Border>
        </VerticalStackLayout>
    </Grid>
</ContentPage>