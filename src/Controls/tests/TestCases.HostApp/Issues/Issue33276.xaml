<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Maui.Controls.Sample.Issues.Issue33276"
             Title="Issue 33276"
             SafeAreaEdges="None">
    
    <!-- Test for safe area padding restoration after keyboard closes -->
    <!-- The safe area bottom padding should be restored when IME closes -->
    <!-- Using a colored background on the container so we can see the padding -->
    <Grid x:Name="MainContainer" 
          AutomationId="MainContainer"
          BackgroundColor="Red"
          SafeAreaEdges="All">
        
        <!-- Inner content with different background to visualize padding -->
        <Grid BackgroundColor="LightBlue"
              RowDefinitions="*,Auto">
            
            <VerticalStackLayout Grid.Row="0" Padding="20" Spacing="10">
                <Label 
                    Text="Test SafeArea padding restoration after keyboard"
                    FontSize="18"
                    FontAttributes="Bold"/>
                
                <Label 
                    Text="Open the keyboard by tapping the Entry below, then close it. The RED padding at the bottom should be restored after keyboard closes."
                    FontSize="14"
                    TextColor="DarkSlateGray"/>
                
                <Label 
                    AutomationId="PaddingStatusLabel"
                    x:Name="PaddingStatusLabel"
                    Text="Padding status: Initial"
                    FontSize="14"
                    TextColor="Navy"/>
            </VerticalStackLayout>
            
            <!-- Bottom marker at the very bottom of the inner content -->
            <!-- This marker sits right above the safe area padding -->
            <BoxView Grid.Row="1"
                     AutomationId="BottomMarker"
                     BackgroundColor="Green"
                     HeightRequest="50"/>
        </Grid>
        
        <!-- Entry placed in a fixed position to trigger keyboard -->
        <Entry 
            Placeholder="Type something"
            AutomationId="TestEntry"
            BackgroundColor="White"
            WidthRequest="250"
            HorizontalOptions="Center"
            VerticalOptions="End"
            Margin="0,0,0,60"/>
    </Grid>
</ContentPage>
