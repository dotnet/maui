<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Maui.Controls.Sample.Issues.Issue28321"
             Title="Issue28321">
    <Grid RowDefinitions="Auto,*">
        <Label AutomationId="LoadedItemsLabel">
            <Label.FormattedText>
                <FormattedString>
                    <Span Text="Loaded items: "/>
                    <Span Text="{Binding Items.Count}"/>
                </FormattedString>
            </Label.FormattedText>
        </Label>
        <CollectionView
            Grid.Row="1"
            RemainingItemsThresholdReachedCommand="{Binding LoadMoreItemsCommand}"
            RemainingItemsThreshold="0"
            ItemsSource="{Binding Items}">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Label Text="{Binding .}"
                           HeightRequest="100"
                           AutomationId="{Binding .}"
                           BackgroundColor="Green"/>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </Grid>
</ContentPage>