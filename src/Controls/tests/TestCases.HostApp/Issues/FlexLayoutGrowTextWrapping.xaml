<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Maui.Controls.Sample.Issues.FlexLayoutGrowTextWrapping"
             Title="FlexLayout Grow Text Wrapping Test">
    <ScrollView>
        <VerticalStackLayout Spacing="10" Padding="10">
            <Label Text="FlexLayout with multiple items with Grow=1 should wrap text properly on all platforms" 
                   FontSize="16" 
                   FontAttributes="Bold"/>
            
            <!-- Test Case 1: Multiple items with Grow=1 and long text -->
            <Label Text="Test 1: Row with multiple Grow=1 items and long text" 
                   FontSize="14" 
                   Margin="0,10,0,5"/>
            <FlexLayout Direction="Row" 
                        Wrap="Wrap"
                        BackgroundColor="LightGray"
                        Padding="5"
                        HeightRequest="150">
                <Label Text="This is a long looong loooooong Text, please don't cut me off" 
                       BackgroundColor="LightBlue"
                       Padding="5"
                       FlexLayout.Grow="1"
                       AutomationId="Label1"/>
                <Label Text="Short Text" 
                       BackgroundColor="LightGreen"
                       Padding="5"
                       FlexLayout.Grow="1"
                       AutomationId="Label2"/>
            </FlexLayout>

            <!-- Test Case 2: Three items with Grow=1 -->
            <Label Text="Test 2: Row with three Grow=1 items" 
                   FontSize="14" 
                   Margin="0,10,0,5"/>
            <FlexLayout Direction="Row" 
                        Wrap="Wrap"
                        BackgroundColor="LightGray"
                        Padding="5"
                        HeightRequest="150">
                <Label Text="Short Text" 
                       BackgroundColor="LightCoral"
                       Padding="5"
                       FlexLayout.Grow="1"
                       AutomationId="Label3"/>
                <Label Text="Short Text" 
                       BackgroundColor="LightYellow"
                       Padding="5"
                       FlexLayout.Grow="1"
                       AutomationId="Label4"/>
                <Label Text="Look at my right neighbor. They should not be cut off."
                       BackgroundColor="LightPink"
                       Padding="5"
                       FlexLayout.Grow="1"
                       AutomationId="Label5"/>
            </FlexLayout>

            <!-- Test Case 3: Button with long text -->
            <Label Text="Test 3: Buttons with Grow=1 and long text" 
                   FontSize="14" 
                   Margin="0,10,0,5"/>
            <FlexLayout Direction="Row" 
                        Wrap="Wrap"
                        BackgroundColor="LightGray"
                        Padding="5"
                        HeightRequest="150">
                <Button Text="This is a long looong loooooong loooooooong loooooooooong button text"
                        BackgroundColor="Purple"
                        TextColor="White"
                        FlexLayout.Grow="1"
                        AutomationId="Button1"/>
                <Button Text="I am the neighbor"
                        BackgroundColor="Blue"
                        TextColor="White"
                        FlexLayout.Grow="1"
                        AutomationId="Button2"/>
            </FlexLayout>

            <!-- Test Case 4: Single item with Grow=1 (should work correctly) -->
            <Label Text="Test 4: Single item with Grow=1 (baseline test)" 
                   FontSize="14" 
                   Margin="0,10,0,5"/>
            <FlexLayout Direction="Row" 
                        Wrap="Wrap"
                        BackgroundColor="LightGray"
                        Padding="5"
                        HeightRequest="100">
                <Label Text="This is a long looong loooooong Text, please don't cut me off" 
                       BackgroundColor="LightBlue"
                       Padding="5"
                       FlexLayout.Grow="1"
                       AutomationId="Label6"/>
            </FlexLayout>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
