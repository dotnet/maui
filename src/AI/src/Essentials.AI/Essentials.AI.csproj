<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFrameworks>netstandard2.1;netstandard2.0;$(_MauiDotNetTfm);$(MauiEssentialsAIPlatforms)</TargetFrameworks>
    <TargetFrameworks Condition="'$(IncludePreviousTfmsEssentialsAI)' == 'true'">$(TargetFrameworks);$(_MauiPreviousDotNetTfm);$(MauiEssentialsAIPreviousPlatforms)</TargetFrameworks>
    <AssemblyName>Microsoft.Maui.Essentials.AI</AssemblyName>
    <RootNamespace>Microsoft.Maui.Essentials.AI</RootNamespace>
    <IsAotCompatible Condition="!$(TargetFramework.StartsWith('netstandard'))">true</IsAotCompatible>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <GenerateDocumentationFile>true</GenerateDocumentationFile>
    <ImplicitUsings>enable</ImplicitUsings>
    <Nullable>enable</Nullable>
    <!-- MLKit GenAI requires API level 26 -->
    <SupportedOSPlatformVersion Condition="$(TargetFramework.Contains('-android'))">26.0</SupportedOSPlatformVersion>
  </PropertyGroup>
  <PropertyGroup>
    <!-- NuGet package information -->
    <IsPackable>true</IsPackable>
    <PackageId>Microsoft.Maui.Essentials.AI</PackageId>
    <PackageTags>$(DefaultPackageTags);essentials;ai</PackageTags>
    <Description>.NET Multi-platform App UI (.NET MAUI) is a cross-platform framework for creating native mobile and desktop apps with C# and XAML. This package contains a collection of cross-platform APIs for working with device AI and local models.</Description>
  </PropertyGroup>
  <Import Project="$(MauiSrcDirectory)MultiTargeting.targets" />
  <ItemGroup>
    <PackageReference Include="Microsoft.Extensions.AI.Abstractions" />
    <PackageReference Include="Microsoft.Extensions.DependencyInjection.Abstractions" />
    <PackageReference Include="Microsoft.Extensions.Hosting.Abstractions" />
    <PackageReference Include="Microsoft.Extensions.Logging.Abstractions" />
  </ItemGroup>
  <ItemGroup Condition=" $(TargetFramework.StartsWith('netstandard')) ">
    <Compile Remove="Platform\*.cs" />
  </ItemGroup>
  <ItemGroup Condition=" $(TargetFramework.Contains('-android')) ">
    <AndroidGradleProject Include="../AndroidNative/build.gradle" ModuleName="essentialsai" />
    <PackageReference Include="Xamarin.Google.MLKit.GenAI.Prompt" />
  </ItemGroup>
  <ItemGroup Condition=" $(TargetFramework.Contains('-ios')) or $(TargetFramework.Contains('-maccatalyst')) or $(TargetFramework.Contains('-macos')) ">
  </ItemGroup>
  <ItemGroup Condition=" $(TargetFramework.Contains('-windows')) ">
  </ItemGroup>
  <Import Project="$(MauiSrcDirectory)PublicAPI.targets" />
  <Import Project="$(MauiSrcDirectory)Workload\Shared\LibraryPacks.targets" />
</Project>
